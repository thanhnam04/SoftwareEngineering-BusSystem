@startuml
title Implementation Diagram - Bus Schedule & Tracking System (SSB 4.0)

skinparam nodesep 40
skinparam ranksep 50

together {
node "Manager Workstation" as ManagerPC {
    artifact "index-complete.html" as ManagerWeb
    component "ManagerDashboard.js" as ManagerDash
    component "Tab Navigation" as TabNav
    component "Schedule Generator" as ScheduleGen
    component "Message Sender" as MessageSend
    component "Data Filter" as DataFilter
}
}

together {
node "Driver Workstation" as DriverPC {
    artifact "index-complete.html" as DriverWeb
    component "DriverDashboard.js" as DriverDash
    component "RouteMap Static" as RouteMap
    component "Student Manager" as StudentMgr
    component "Status Reporter" as StatusReport
}
}

together {
node "Parent Portal" as ParentPC {
    artifact "index-complete.html" as ParentWeb
    component "ParentDashboard.js" as ParentDash
    component "Leaflet Map" as LeafletMap
    component "Tab Controller" as TabCtrl
    component "Notification Display" as NotifDisplay
}
}

together {
node "Static Web Server" as WebServer {
    artifact "Static Files" as StaticFiles
    component "React Runtime" as ReactRuntime
    component "Babel Transpiler" as BabelTranspiler
    component "Mock Data Service" as MockDataSvc
    component "LocalStorage Manager" as LocalStorageMgr
    note right : "Frontend-only\nNo backend implementation"
}
}

together {
node "Browser Storage" as BrowserStorage {
    artifact "localStorage" as LocalStorage
    component "Mock Students" as MockStudents
    component "Mock Parents" as MockParents
    component "Mock Buses" as MockBuses
    component "Mock Drivers" as MockDrivers
    component "Mock Routes" as MockRoutes
    component "Saved Schedules" as SavedSchedules
    component "Session Data" as SessionData
    note right : "Client-side data\nNo database server"
}
}

' Connections
ManagerPC --> WebServer : HTTP (Static Files)
DriverPC --> WebServer : HTTP (Static Files)
ParentPC --> WebServer : HTTP (Static Files)
WebServer --> BrowserStorage : JavaScript Access

' Internal deployments
ManagerWeb ..> ManagerDash : <<deploy>>
ManagerWeb ..> TabNav : <<deploy>>
ManagerWeb ..> ScheduleGen : <<deploy>>
ManagerWeb ..> MessageSend : <<deploy>>
ManagerWeb ..> DataFilter : <<deploy>>
DriverWeb ..> DriverDash : <<deploy>>
DriverWeb ..> RouteMap : <<deploy>>
DriverWeb ..> StudentMgr : <<deploy>>
DriverWeb ..> StatusReport : <<deploy>>
ParentWeb ..> ParentDash : <<deploy>>
ParentWeb ..> LeafletMap : <<deploy>>
ParentWeb ..> TabCtrl : <<deploy>>
ParentWeb ..> NotifDisplay : <<deploy>>
StaticFiles ..> ReactRuntime : <<deploy>>
StaticFiles ..> BabelTranspiler : <<deploy>>
StaticFiles ..> MockDataSvc : <<deploy>>
StaticFiles ..> LocalStorageMgr : <<deploy>>
LocalStorage ..> MockStudents : <<deploy>>
LocalStorage ..> MockParents : <<deploy>>
LocalStorage ..> MockBuses : <<deploy>>
LocalStorage ..> MockDrivers : <<deploy>>
LocalStorage ..> MockRoutes : <<deploy>>
LocalStorage ..> SavedSchedules : <<deploy>>
LocalStorage ..> SessionData : <<deploy>>

' External Services
cloud "External APIs" as ExternalAPIs {
    component "Leaflet Maps" as LeafletAPI
    component "OpenStreetMap" as OSM
    component "Bootstrap Icons" as BootstrapIcons
}

ParentPC --> ExternalAPIs : HTTPS
LeafletMap --> LeafletAPI : API Calls
LeafletAPI --> OSM : Tile Requests

@enduml
